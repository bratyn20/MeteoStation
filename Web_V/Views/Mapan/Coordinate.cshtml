
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Coordinate</title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=c1dbf550-f74b-4214-a824-ab92e437ca0b&lang=ru_RU" type="text/javascript">
    </script>
    <script type="text/javascript">
        var shirmin =@Html.Raw(Json.Encode(ViewBag.shirmin));
        var shirmax =@Html.Raw(Json.Encode(ViewBag.shirmax));
        var dolgmin =@Html.Raw(Json.Encode(ViewBag.dolgmin));
        var dolgmax =@Html.Raw(Json.Encode(ViewBag.dolgmax));
        var y = @ViewBag.y;
        console.log(y, shirmin, shirmax, dolgmin, dolgmax);

        var color = new Map([
            [0, '#ff8282'], //красный
            [1, '#ffde82'], //ЖЁЛТЫЙ
            [2, '#9bff82'], //зелёный
            [3, '#82ffee'], //голубой
            [4, '#8291ff'], //синий
            [5, '#be82ff'], //фиолетовый
            [6, '#ff82f5'], //пурпурный
            [7, '#989898bf'], //серый
            [8, '#000000a6'], //черный
            [9, '#750000c7'], //тёмной красный
            [10, '#ff8282'], //красный
            [11, '#ffde82'], //ЖЁЛТЫЙ
            [12, '#9bff82'], //зелёный
            [13, '#82ffee'], //голубой
            [14, '#8291ff'], //синий
            [15, '#be82ff'], //фиолетовый
            [16, '#ff82f5'], //пурпурный
            [17, '#989898bf'], //серый
            [18, '#000000a6'], //черный
            [19, '#750000c7'], //тёмной красный
            [20, '#000000a6'], //черный
            [21, '#750000c7'] //тёмной красный
            //['10', ''],
            //['11', ''],
            //['12', ''],
            //['13', ''],
            //['14', '']
        ]);

        // Функция ymaps.ready() будет вызвана, когда
        // загрузятся все компоненты API, а также когда будет готово DOM-дерево.
        ymaps.ready(init);
        function init() {
            // Создание карты.
            var myMap = new ymaps.Map("map", {
                // Координаты центра карты.
                // Порядок по умолчанию: «широта, долгота».
                // Чтобы не определять координаты центра карты вручную,
                // воспользуйтесь инструментом Определение координат.
                center: [56.29, 84.56],
                // Уровень масштабирования. Допустимые значения:
                // от 0 (весь мир) до 19.
                zoom: 2
            });

            //var myGeoObject = new ymaps.GeoObject({
            //    geometry: {
            //    type: "Point", // тип геометрии - точка
            //    coordinates: [55.8, 37.8] // координаты точки
            //              }
            //    });

            for (var i = 0; i < y; i++) {
                var myRectangle = new ymaps.GeoObject({
                    geometry: {
                        type: "Rectangle",
                        coordinates: [
                            [shirmin[i], dolgmin[i]],
                            [shirmax[i], dolgmax[i]]
                        ]
                    },
                    properties: {
                        hintContent: 'Меня перетаскивать нельзя!',
                        balloonContent: 'Прямоугольник ' + i
                    }
                },
                    {
                        // Опции.
                        // Цвет и прозрачность заливки.
                        fillColor: color.get(i),
                        // Дополнительная прозрачность заливки..
                        // Итоговая прозрачность будет не #33(0.2), а 0.1(0.2*0.5).
                        fillOpacity: 0.5,
                        // Цвет обводки.
                        strokeColor: '#0000FF',
                        // Прозрачность обводки.
                        strokeOpacity: 0.5,
                        // Ширина линии.
                        strokeWidth: 2,
                        // Радиус скругления углов.
                        // Данная опция принимается только прямоугольником.
                        borderRadius: 6
                    });

                //var myRectangle2 = new ymaps.GeoObject({
                    //geometry: {
                        //type: "Rectangle",
                        //coordinates: [
                            //[30.70, 35.30],
                            //[35.80, 40.40]
                        //]
                    //}
                //});
                myMap.geoObjects.add(myRectangle);
            }

            //myMap.geoObjects.add(myGeoObject);

            //var myPlacemark = new ymaps.Placemark([25.8, 25.6]);
            //myMap.geoObjects.add(myPlacemark);

            
            
            //myMap.geoObjects.add(myRectangle2);


        }
    </script>
</head>
<body>
    <div>
        fdfsdfsd
    </div>

    <form method="post" action="">
        <label>Выберите кластер</label>
        <select id="groups" name="y">
            @* <option value="">Countries</option>*@
            @for (int i = 0; i < ViewBag.i; i++)
            {
                <option value="@(i+1)">@(i + 1)</option>
            }
        </select>

        <input type="submit" value="Отправить" />
    </form>

    <div>
        <div id="map" style="width: 1330px; height: 580px"></div>
    </div>
</body>
</html>
